<html>

	<head>
		<meta charset="utf-8">
		<title>Pubmed Query Editor 0.1</title>
		<script type="text/javascript" charset="utf-8" src="rangy-core.js"></script>
		<script type="text/javascript" charset="utf-8" src="rangy-cssclassapplier.js"></script>
		<script type="text/javascript" charset="utf-8" src="rangy-selectionsaverestore.js"></script>
		<script type="text/javascript" charset="utf-8" src="rangy-serializer.js"></script>
		<script type="text/javascript" charset="utf-8" src="wgxpath.install.js"></script>
		<script type="text/javascript" charset="utf-8" src="editor.js"></script>
		<link rel="stylesheet" type="text/css" href="style.css">
	</head>
	<body>
		<a href="https://github.com/HansPinckaers/query-editor"><img style="position: absolute; top: 0; right: 0; border: 0;" src="https://s3.amazonaws.com/github/ribbons/forkme_right_red_aa0000.png" alt="Fork me on GitHub"></a>
		
		<textarea id="rawquery" type="text" onkeyup="parse_pubmed_query(this.value, document.getElementById('query'))">
			"male"[MeSH Terms] AND "humans"[MeSH Terms] AND "urination"[MeSH Terms] OR "diuresis"[MeSH Terms] OR "urodynamics"[MeSHerms] OR "urinary bladder"[MeSH] OR "urine"[MeSH Terms] OR "urography"[MeSH Terms] OR "cystoscopy"[MeSH Terms] OR "urinary retention"[MeSH] OR "urination disorders"[MeSH] OR "urologic diseases"[MeSH] OR "urethra"[MeSH Terms] AND "posture"[MeSH Terms] OR “biomechanics” [MeSh Terms]
		</textarea>
		<div id="query" contenteditable="false" onkeyup="markup(event)" onkeypress="return insertBR(event)">
			Sorry, using the styled editor is not possible yet in your browser. <strong>Use Chrome, Safari or Firefox.</strong> <br/>You can always type in the upper textfield and see your styled query here.
		</div>
		<div id="testquery" style="display:none"></div>
		<p>
			Todo: 
			<ul>
				<li>Reliability</li>
				<li>Browser-related problems: <strike> Strange cursor handling in Firefox,</strike> not tested in IE.</li>
				<li>Keep in mind that the editor is not finished. <strong>If you want to be save, type in the upper textfield!</strong></li>
			</ul>
		</p>
		<p>
			Built by <a href="http://buildsucceeded.nl/">Hans Pinckaers</a> – 2013<br/>
			This project is <a href="https://github.com/HansPinckaers/query-editor">open-source</a>.
		</p>
	</body>

	<script>
		window.onload = function(){ 	
			var ua = navigator.userAgent,
			res;
			res = ua.indexOf(' AppleWebKit/') !== -1;
			if(!res) res = ua.indexOf('Firefox/') !== -1;
			if(res)
			{
				document.getElementById('query').contentEditable = true;
				document.getElementById('query').innerHTML = "";
			}
		};
	</script>

</html>